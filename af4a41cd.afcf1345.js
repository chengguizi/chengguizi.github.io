(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{108:function(a,e,t){"use strict";t.r(e),t.d(e,"frontMatter",(function(){return c})),t.d(e,"metadata",(function(){return b})),t.d(e,"rightToc",(function(){return p})),t.d(e,"default",(function(){return l}));var s=t(2),n=t(6),m=(t(0),t(140)),c={hide_title:!0,sidebar_label:"Basalt Frontend (optical-flow)"},b={unversionedId:"research/vio/basalt-frontend",id:"research/vio/basalt-frontend",isDocsHomePage:!1,title:"basalt-frontend",description:"Front End",source:"@site/docs/research/vio/basalt-frontend.md",permalink:"/docs/research/vio/basalt-frontend",editUrl:"https://github.com/chengguizi/chengguizi.github.io/docs/research/vio/basalt-frontend.md",lastUpdatedAt:1597829776,sidebar_label:"Basalt Frontend (optical-flow)",sidebar:"researchSidebar",previous:{title:"basalt-backend",permalink:"/docs/research/vio/basalt-backend"}},p=[{value:"Initialization",id:"initialization",children:[{value:"Parameters",id:"parameters",children:[]}]},{value:"data structure",id:"data-structure",children:[]},{value:"FrameToFrameOpticalFlow",id:"frametoframeopticalflow",children:[{value:"Constructor",id:"constructor",children:[]},{value:"processingLoop",id:"processingloop",children:[]},{value:"processFrame",id:"processframe",children:[]}]}],r={rightToc:p};function l(a){var e=a.components,c=Object(n.a)(a,["components"]);return Object(m.b)("wrapper",Object(s.a)({},r,c,{components:e,mdxType:"MDXLayout"}),Object(m.b)("h1",{id:"front-end"},"Front End"),Object(m.b)("p",null,"The front end include two types of optical flow: frame to frame optical flow and patch optical frame. "),Object(m.b)("h2",{id:"initialization"},"Initialization"),Object(m.b)("p",null,"The front end is initialized in "),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"basalt::OpticalFlowFactory::getOpticalFlow(vio_config, calib)\n")),Object(m.b)("p",null,"func param: vio_config: parameters in config.json file; calib: camera info. "),Object(m.b)("p",null,"return: ",Object(m.b)("strong",{parentName:"p"},"OpticalFlowBase::Ptr"),", which is reset (initialized) by ",Object(m.b)("em",{parentName:"p"},"config.optical_flow_type")," and ",Object(m.b)("em",{parentName:"p"},"config.optical_flow_pattern")," parameter shown in the table."),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"class OpticalFlowBase {\n public:\n  using Ptr = std::shared_ptr<OpticalFlowBase>;\n  tbb::concurrent_bounded_queue<OpticalFlowInput::Ptr> input_queue;\n  tbb::concurrent_bounded_queue<OpticalFlowResult::Ptr>* output_queue = nullptr;\n  Eigen::MatrixXf patch_coord;\n};\n")),Object(m.b)("p",null,"The ",Object(m.b)("strong",{parentName:"p"},"input_queue")," is set to be the stereo image buffer queue with tbb::concurrent_bounded_queue to handle multithread sharing.\nThe ",Object(m.b)("strong",{parentName:"p"},"output_queue")," passes to vio vision_data_queue."),Object(m.b)("h3",{id:"parameters"},"Parameters"),Object(m.b)("table",null,Object(m.b)("thead",{parentName:"table"},Object(m.b)("tr",{parentName:"thead"},Object(m.b)("th",Object(s.a)({parentName:"tr"},{align:null}),"param"),Object(m.b)("th",Object(s.a)({parentName:"tr"},{align:null}),"type"),Object(m.b)("th",Object(s.a)({parentName:"tr"},{align:null}),"value used"),Object(m.b)("th",Object(s.a)({parentName:"tr"},{align:null}),"function"))),Object(m.b)("tbody",{parentName:"table"},Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"config.optical_flow_type"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),'"frame_to_frame" / "patch"'),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),'"frame_to_frame"'),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),'decide optical flow method: "patch" to use PatchOpticalFlow and "frame_to_frame" to use FrameToFrameOpticalFlow')),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"config.optical_flow_pattern"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"24/52/51/50"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"50"),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}),"optical flow pattern shown in the below image")),Object(m.b)("tr",{parentName:"tbody"},Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null})),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null})),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null})),Object(m.b)("td",Object(s.a)({parentName:"tr"},{align:null}))))),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"Optical flow patterns:\nThe pattern is used for each key point to buid a patch when comparing matches\npattern24:\n           00  01\n  \n       02  03  04  05\n  \n   06  07  08  09  10  11\n  \n   12  13  14  15  16  17\n  \n       18  19  20  21\n  \n           22  23\n\npattern52:\n           00  01  02  03\n  \n       04  05  06  07  08  09\n  \n   10  11  12  13  14  15  16  17\n  \n   18  19  20  21  22  23  24  25\n  \n   26  27  28  29  30  31  32  33\n  \n   34  35  36  37  38  39  40  41\n  \n       42  43  44  45  46  47\n  \n           48  49  50  51 \n\nWeights of pattern52:\n                       {-3, 7},  {-1, 7},  {1, 7},   {3, 7},\n                {-5, 5},  {-3, 5},  {-1, 5},  {1, 5},   {3, 5},  {5, 5},\n      {-7, 3},  {-5, 3},  {-3, 3},  {-1, 3},  {1, 3},  {3, 3}, {5, 3},   {7, 3},\n      {-7, 1},  {-5, 1},  {-3, 1},  {-1, 1},  {1, 1},  {3, 1}, {5, 1},   {7, 1},\n      {-7, -1}, {-5, -1}, {-3, -1}, {-1, -1}, {1, -1}, {3, -1}, {5, -1},  {7, -1},\n      {-7, -3}, {-5, -3}, {-3, -3}, {-1, -3}, {1, -3}, {3, -3}, {5, -3},  {7, -3},\n               {-5, -5}, {-3, -5}, {-1, -5}, {1, -5},  {3, -5}, {5, -5},\n                      {-3, -7}, {-1, -7}, {1, -7},  {3, -7}\n\npattern51 is the same as Pattern52 but twice smaller in terms of weight.\npattern50 is the same as Pattern52 but 0.75 smaller.\n\n")),Object(m.b)("h2",{id:"data-structure"},"data structure"),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"struct OpticalFlowInput {\n  using Ptr = std::shared_ptr<OpticalFlowInput>;\n  int64_t t_ns;\n  std::vector<ImageData> img_data;\n};\n")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"struct OpticalFlowResult {\n  using Ptr = std::shared_ptr<OpticalFlowResult>;\n  int64_t t_ns;\n  //observation size depends on the number of cameras, 2 in our case\n  //KeypointId:\n  //AffineCompact2f:\n  std::vector<Eigen::aligned_map<KeypointId, Eigen::AffineCompact2f>> observations;  \n  OpticalFlowInput::Ptr input_images; // one image frame from the input_queue of images\n};\n")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"/// ids for 2D features detected in images\nusing FeatureId = int;\n/// identifies a frame of multiple images (stereo pair)\nusing FrameId = int64_t;\n/// identifies the camera (left or right)\nusing CamId = std::size_t;\n\nstruct KeypointsData {\n  /// collection of 2d corner points: pixel location  (indexed by FeatureId) \n  std::vector<Eigen::Vector2d, Eigen::aligned_allocator<Eigen::Vector2d>> corners;\n  /// collection of feature orientation (in radian) with same index as `corners`(indexed by FeatureId)\n  std::vector<double> corner_angles;\n  /// collection of feature descriptors with same index as `corners` (indexed by FeatureId)\n  std::vector<std::bitset<256>> corner_descriptors;\n  Eigen::aligned_vector<Eigen::Vector4d> corners_3d;\n  std::vector<FeatureHash> hashes;\n  HashBowVector bow_vector;\n};\n")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"Patch\n")),Object(m.b)("h2",{id:"frametoframeopticalflow"},"FrameToFrameOpticalFlow"),Object(m.b)("h3",{id:"constructor"},"Constructor"),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"calculate R and T between if there is more than one cameras."),Object(m.b)("li",{parentName:"ul"},"initialize the ",Object(m.b)("inlineCode",{parentName:"li"},"processingLoop()")," thread and use a smart pointer to handle resource.")),Object(m.b)("h3",{id:"processingloop"},"processingLoop"),Object(m.b)("p",null,"Keep poping OpticalFlowInput from the input_queue and process it with ",Object(m.b)("inlineCode",{parentName:"p"},"processFrame(input_ptr->t_ns, input_ptr)")," function until we get a nullptr from the input_queue."),Object(m.b)("h3",{id:"processframe"},"processFrame"),Object(m.b)("p",null,"Input(int64_t curr_t_ns, OpticalFlowInput::Ptr& new_img_vec)"),Object(m.b)("h4",{id:"first-frame-initialization"},"first frame initialization"),Object(m.b)("ol",null,Object(m.b)("li",{parentName:"ol"},"initialize ",Object(m.b)("strong",{parentName:"li"},"transforms")," (OpticalFlowResult::Ptr)")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"transforms.reset(new OpticalFlowResult);\ntransforms->input_images = new_img_vec; \n")),Object(m.b)("ol",{start:2},Object(m.b)("li",{parentName:"ol"},"initialize ",Object(m.b)("strong",{parentName:"li"},"pyramid"),"(std::shared_ptr<std::vector<basalt::ManagedImagePyr<u_int16_t>>>)")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"pyramid->resize(calib.intrinsics.size());\n")),Object(m.b)("ol",{start:3},Object(m.b)("li",{parentName:"ol"},"running pyramid for all images in parallel")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),'tbb::parallel_for(tbb::blocked_range<size_t>(0, calib.intrinsics.size()),\n                        [&](const tbb::blocked_range<size_t>& r) {\n                          for (size_t i = r.begin(); i != r.end(); ++i) {\n                            pyramid->at(i).setFromImage(\n                                *new_img_vec->img_data[i].img,\n                                config.optical_flow_levels);\n                          }\n                        });\n\n//[tbb.parallel_for(blocked_range<T>(begin,end,grainsize), func(const tbb::blocked_range<size_t>& r))](https://software.intel.com/en-us/node/506057)\n//[&] means "capture by reference", [=] means "capture by value"\n//setFromImage(const ManagedImage<T>& other, size_t num_levels) sets image pyramid from other image\n// @param other image to use for the pyramid level 0\n')),Object(m.b)("p",null,"The ",Object(m.b)("strong",{parentName:"p"},"ManagedImagePyr")," class is used to calculate pyramid of the input image. Noted that the pyramid is stored as a (1+1/2)w x h image shown as the zebra image. A gaussian kernel is used to subsampling the image and every even-numbered row and colum have to be removed. The kernel is shown as this template."),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"1/256 * cov[image x kernel] + 0.5\n1 & 4 & 6 & 4 & 1\n4 & 16 & 24 & 16 & 4\n6 & 24 & 36 & 24 & 6\n4 & 16 & 24 & 16 & 4\n1 & 4 & 6 & 4 & 1\n")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),'// only left important function here\ntemplate <typename T, class Allocator = DefaultImageAllocator<T>>\nclass ManagedImagePyr {\n public:\n  using Ptr = std::shared_ptr<ManagedImagePyr<T, Allocator>>;\n\n  /// @brief Set image pyramid from other image.\n  inline void setFromImage(const ManagedImage<T>& other, size_t num_levels) {\n    // call "Image<const T> lvl(size_t lvl)" \n        to build subimage on the image, i.e. given x, y index as well as w and h for each pyramid\n    // call "void subsample(const Image<const T>& img, Image<T>& img_sub)" \n                to return const image of the certain level, one by convolution with Gaussian kernel(ubsample the image twice in vertical and horizontal direction) and removing every even-numbered row and column  \n    }\n\n protected:\n  size_t orig_w;          ///< Width of the original image (level 0)\n  ManagedImage<T> image;  ///< Pyramid   // (1+1/2)w x h \n};\n')),Object(m.b)("p",null,"The paramid 0,1...n are stored from left to right and upper to bottom as shown in the image."),Object(m.b)("p",null,Object(m.b)("img",{alt:"pyramid",src:t(174).default})),Object(m.b)("ol",{start:4},Object(m.b)("li",{parentName:"ol"},"addPoints")),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"add previously points from the Left image to pts0(vector<Eigen::Vector2d>) variable"),Object(m.b)("li",{parentName:"ul"},"detect points at level 0 ")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"void detectKeypoints(\n    const basalt::Image<const uint16_t>& img_raw, KeypointsData& kd,\n    int PATCH_SIZE, int num_points_cell,\n    const Eigen::aligned_vector<Eigen::Vector2d>& current_points){\n    devide image into cells based on PATCH_SIZE\n    put existing points into each cell\n    for each cell:\n        if the current cell already has previously tracked feature, skip this cell\n        else detect fast feature in the grid (default: one feature per grid): cv::FAST(subImg, points, threshold); threshold is from 40->20->10->5 and make sure the point is with in EDGE_THRESHOLD = 19 of the whole image\n    }\n")),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},"put corners with keypoint_id in ",Object(m.b)("strong",{parentName:"li"},"transform"),"(local variable) and initialize new_poses0(same type as transform: Eigen::AffineCompact2f). note: transfrom is just the keypoint location on image"),Object(m.b)("li",{parentName:"ul"},"track points from left to right  ")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),'void trackPoints(const basalt::ManagedImagePyr<u_int16_t>& pyr_1,\n                   const basalt::ManagedImagePyr<u_int16_t>& pyr_2,\n                   const Eigen::aligned_map<KeypointId, Eigen::AffineCompact2f>&\n                       transform_map_1,\n                   Eigen::aligned_map<KeypointId, Eigen::AffineCompact2f>&\n                       transform_map_2, bool leftToRight = false){\n/*\n    1. trackPointAtLevel: Check one pyr level: if the residul = patch - data, is valid\n          valid means that 1.1 at least PATTERN_SIZE / 2 number of points that both valid in template and residuals patch\n                           1.2 the points transformed by the updated and optimized T can still be seen in the image \n      2. trackPoint: check if the traking is valid at all pyr levels\n      3. This Func: square norm diff from "left to right transform" and "right to left transform" should be less than config.optical_flow_max_recovered_dist2\n\n*/}\n')),Object(m.b)("ol",{start:5},Object(m.b)("li",{parentName:"ol"},"filterPoints")),Object(m.b)("h4",{id:"supporting-functions"},"supporting functions"),Object(m.b)("ol",null,Object(m.b)("li",{parentName:"ol"},"trackPoints")),Object(m.b)("p",null,"Track pointss between two images pyramid. Images could be from left to right/ right to left and previous to current. Noted that parameter without const here means output of the function. Also pay attention to the name, transform_map and transforms are map and vector, while transform is a single keypoint from the containers. It also applies to functions such as trackpoints and trackpoint."),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"  void trackPoints(const basalt::ManagedImagePyr<u_int16_t>& pyr_1,\n                   const basalt::ManagedImagePyr<u_int16_t>& pyr_2,\n                   const Eigen::aligned_map<KeypointId, Eigen::AffineCompact2f>&\n                       transform_map_1,\n                   Eigen::aligned_map<KeypointId, Eigen::AffineCompact2f>&\n                       transform_map_2) const {\n\nfor each point in transform_map_1:\n    if trackPoint(pyr_1, pyr_2, transform_1, transform_2) is valid (means more than half of the points in template and tracking patch at each leavel are within image boundries during optimization iterations)\n        track points from pyr_2 to pyr_1 (valid = trackPoint(pyr_2, pyr_1, transform_2, transform_1_recovered))\n            if the norm between the transform_1 and transform_1_recovered are within in config.optical_flow_max_recovered_dist2, then add this point into the transform_map_2\n    \n\n}\n")),Object(m.b)("ol",{start:2},Object(m.b)("li",{parentName:"ol"},"trackpoint\nTrack point from coarse to fine at all levels. The point is tracked from old_pyramid to current pyramid.")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"inline bool trackPoint(const basalt::ManagedImagePyr<uint16_t>& old_pyr,\n                         const basalt::ManagedImagePyr<uint16_t>& pyr,\n                         const Eigen::AffineCompact2f& old_transform,\n                         Eigen::AffineCompact2f& transform)\n                         {\n                            for each level of the pyramid(start from the highest one):\n                                scale the keypoint with respect to the transform (keypoint coordinate at the lowest layer of the pyramid)\n                                build a template patch around that scaled keypoint (see the patch section to see more details)\n                                perform tracking on current level (trackPointAtLevel(pyr.lvl(level), p, transform)) and check if the result is valid (check the definition in trackPointAtLevel func). \n                            update transform\n                            return patch_valid (True when all levels are valid)\n\n\n                         }\n")),Object(m.b)("ol",{start:3},Object(m.b)("li",{parentName:"ol"},"trackPointAtLevel\nTrack one point at one pyramid level. Return patch_valid, which means ")),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"inline bool trackPointAtLevel(const Image<const u_int16_t>& img_2,\n                                const PatchT& dp,\n                                Eigen::AffineCompact2f& transform) const {\n                                  for patch_valid && iteration < config.optical_flow_max_iterations:\n                                    transform designed pattern with transform matrix(R * (x;y) + t, its linear/rotation part is initialized as an identity matrix, and translation part is initialized as the keypoint's coordinate)\n                                    calculate residual between the template(dp) and the transformed patch(transformed_pat)\n                                      check out patch section for more details in terms of residual calculation\n                                    if the residual is valid:\n                                      calculate increment of the rotation: inc= inv(JT*J)*JT*res\n                                      update transfrom with inc \n                                      if transform.translation() is within the img_2, then the patch is still valid, otherwise break the loop with patch_valid = false\n\n                                    else:\n                                     patch_valid = false; break the loop\n\n\n\n\n                                }\n")),Object(m.b)("ol",{start:4},Object(m.b)("li",{parentName:"ol"},"OpticalFlowPatch structure\nThis structure is used to buid a patch around a point in image, and provides function to calculate residual used for transform itertation. Noted that below are pseudo code only.")),Object(m.b)("p",null,"Using the inverse compositional algorithm discribed in section 3.2.1 in ",Object(m.b)("a",Object(s.a)({parentName:"p"},{href:"http://www.ncorr.com/download/publications/bakerunify.pdf"}),"Lucas-Kanade 20 Years On: A Unifying Framework")," "),Object(m.b)("p",null,"The original problem is to minimize the sum of squard error between two images, the template ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"T")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"T")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T")))))," and the image ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"I")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"I")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07847em"}}),"I")))))," warped back on to the coordinate frame of the template:"),Object(m.b)("p",null,"  ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"I"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mn",{parentName:"msup"},"2"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\sum_x[I(W(x;p))-T(x)]^2")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.0497100000000001em",verticalAlign:"-0.29971000000000003em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.0016819999999999613em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07847em"}}),"I"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.064108em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"2"))))))))))))),Object(m.b)("p",null,"  We could assume that a current estimate of p is known and then iteratively solves for increments to the parameters ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u0394"),Object(m.b)("mi",{parentName:"mrow"},"p")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\Delta p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.8777699999999999em",verticalAlign:"-0.19444em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u0394"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"))))),", i.e. the following expression is minimized: "),Object(m.b)("ul",null,Object(m.b)("li",{parentName:"ul"},Object(m.b)("p",{parentName:"li"},"Forwards additive(Lucas-Kanade) algorithm: ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"I"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u0394"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mn",{parentName:"msup"},"2"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\sum_x[I(W(x;p+\\Delta p))-T(x)]^2")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.0497100000000001em",verticalAlign:"-0.29971000000000003em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.0016819999999999613em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07847em"}}),"I"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u0394"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.064108em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"2"))))))))))))," or ")),Object(m.b)("li",{parentName:"ul"},Object(m.b)("p",{parentName:"li"},"Frowards compositional algorithm: ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"I"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u0394"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mn",{parentName:"msup"},"2"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\sum_x[I(W(W(x;\\Delta p);p))-T(x)]^2")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.0497100000000001em",verticalAlign:"-0.29971000000000003em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.0016819999999999613em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07847em"}}),"I"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u0394"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.064108em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"2"))))))))))))," "))),Object(m.b)("p",null,"However, in order to avoid a huge computational cost in re-evaluating the Hessian in every iteration, we switch the role of the image and the template to form the inverse problem, where the goal is to minimize:"),Object(m.b)("p",null,"  ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u0394"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"I"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mn",{parentName:"msup"},"2"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\sum_x[T(W(x;\\Delta p)-I(W(x;p)))]^2")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.0497100000000001em",verticalAlign:"-0.29971000000000003em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.0016819999999999613em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u0394"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.064108em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07847em"}}),"I"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"2"))))))))))))),Object(m.b)("p",null,"  with respect to ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u0394"),Object(m.b)("mi",{parentName:"mrow"},"p")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\Delta p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.8777699999999999em",verticalAlign:"-0.19444em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u0394"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p")))))," and then update the warp:"),Object(m.b)("p",null,"  ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u2190"),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u2218"),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u0394"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),")"),Object(m.b)("mrow",{parentName:"msup"},Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mn",{parentName:"mrow"},"1")))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"W(x;p) \\leftarrow W(x;p) \\circ W(x;\\Delta p)^{-1}")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"\u2190"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u2218"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.064108em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u0394"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"1")))))))))))))),Object(m.b)("p",null,"Performing a first order Taylor expansion gives:\n",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mn",{parentName:"mrow"},"0"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u25bd"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p"))),Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"I"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mn",{parentName:"msup"},"2"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\sum_x[T(W(x;0))+ \\triangledown T \\frac{\\partial W}{\\partial p} - I(W(x;p))]^2")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.0497100000000001em",verticalAlign:"-0.29971000000000003em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.0016819999999999613em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.3612159999999998em",verticalAlign:"-0.481108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord amsrm"}),"\u25bd"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8801079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.6550000000000002em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.394em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"W"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.481108em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.064108em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07847em"}}),"I"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"2"))))))))))))),Object(m.b)("p",null,"The solution to this least-squares problem is:\n",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u0394"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msup"},"H"),Object(m.b)("mrow",{parentName:"msup"},Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mn",{parentName:"mrow"},"1"))),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u25bd"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p"))),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mi",{parentName:"msup"},"T")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"I"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"]")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\Delta p = H^{-1} \\sum_x[\\triangledown T\\frac{\\partial W}{\\partial p} ]^T[I(W(x;p))-T(x)]")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.8777699999999999em",verticalAlign:"-0.19444em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u0394"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.3612159999999998em",verticalAlign:"-0.481108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.08125em"}}),"H"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8141079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),"1"))))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.0016819999999999613em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord amsrm"}),"\u25bd"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8801079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.6550000000000002em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.394em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"W"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.481108em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8413309999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"T")))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.07847em"}}),"I"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]")))))),Object(m.b)("p",null,"where H is:\n",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"H"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mo",{parentName:"msub"},"\u2211"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u25bd"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p"))),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mi",{parentName:"msup"},"T")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u25bd"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p"))),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"]")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"H = \\sum_x [\\triangledown T\\frac{\\partial W}{\\partial p} ]^T [\\triangledown T\\frac{\\partial W}{\\partial p} ]")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.08125em"}}),"H"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.3612159999999998em",verticalAlign:"-0.481108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mop op-symbol small-op",style:{position:"relative",top:"-0.0000050000000000050004em"}}),"\u2211"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.0016819999999999613em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.40029em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.29971000000000003em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord amsrm"}),"\u25bd"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8801079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.6550000000000002em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.394em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"W"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.481108em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8413309999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"T")))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord amsrm"}),"\u25bd"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8801079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.6550000000000002em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.394em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"W"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.481108em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]")))))),Object(m.b)("p",null,"Noted that the Jacobian ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p")))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\frac{\\partial W}{\\partial p}")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.3612159999999998em",verticalAlign:"-0.481108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8801079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.6550000000000002em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.394em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"W"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.481108em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"})))))))," is evaluated at (x;0) and since there is nothing in the Hssian that depends on p, it is constant across iterations and can be pre-computed. The detail diagram of the algorithm is as follow."),Object(m.b)("p",null,Object(m.b)("img",{alt:"inverse compositional Algorithm",src:t(175).default})),Object(m.b)("p",null,"In Baslt, W is group SE(2),which is rigid transformations in 2D space. It has 3 degree of freedom: ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"y")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"\u03b8"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"]")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"p = [t_x, t_y, \\theta]")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.625em",verticalAlign:"-0.19444em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.036108em",verticalAlign:"-0.286108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.151392em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15139200000000003em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}}),"y")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.286108em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02778em"}}),"\u03b8"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"))))),". The derivative of SE(2) is a 2x3 matrix ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"J"),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"w"),Object(m.b)("mi",{parentName:"msub"},"s")),Object(m.b)("mi",{parentName:"mrow"},"e"),Object(m.b)("mn",{parentName:"mrow"},"2"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u25bd"),Object(m.b)("mi",{parentName:"mrow"},"T"),Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p")))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"Jw _ se2 = \\triangledown T\\frac{\\partial W}{\\partial p}")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.83333em",verticalAlign:"-0.15em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.09618em"}}),"J"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02691em"}}),"w"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.151392em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"-0.02691em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"s")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"e"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"2"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.3612159999999998em",verticalAlign:"-0.481108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord amsrm"}),"\u25bd"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8801079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.6550000000000002em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.394em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"W"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.481108em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"})))))))," , where ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u25bd"),Object(m.b)("mi",{parentName:"mrow"},"T")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\triangledown T")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord amsrm"}),"\u25bd"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"T")))))," means template gradient and ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p")))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\frac{\\partial W}{\\partial p}")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.3612159999999998em",verticalAlign:"-0.481108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8801079999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.6550000000000002em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"p")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.394em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mtight",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"W"))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.481108em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"})))))))," means the change of x or y with respect to SE2 parameters ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"y")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"\u03b8"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"]")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"[t_x, t_y, \\theta]")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.036108em",verticalAlign:"-0.286108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.151392em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15139200000000003em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}}),"y")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.286108em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02778em"}}),"\u03b8"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"))))),". For details can check out Equ. 117 in ",Object(m.b)("a",Object(s.a)({parentName:"p"},{href:"http://www.ethaneade.org/lie.pdf"}),"SE2"),".\nSE2 can be represented by:"),Object(m.b)("div",{className:"math math-display"},Object(m.b)("span",Object(s.a)({parentName:"div"},{className:"katex-display"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"S"),Object(m.b)("mi",{parentName:"mrow"},"E"),Object(m.b)("mn",{parentName:"mrow"},"2"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mrow",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{fence:"true"}),"["),Object(m.b)("mtable",Object(s.a)({parentName:"mrow"},{rowspacing:"0.15999999999999992em",columnspacing:"1em"}),Object(m.b)("mtr",{parentName:"mtable"},Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"0"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mrow",{parentName:"mstyle"},Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"\u03b8")))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("msub",{parentName:"mstyle"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"x"))))),Object(m.b)("mtr",{parentName:"mtable"},Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mi",{parentName:"mstyle"},"\u03b8"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"0"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("msub",{parentName:"mstyle"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"y"))))),Object(m.b)("mtr",{parentName:"mtable"},Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"0"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"0"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"0"))))),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{fence:"true"}),"]"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"SE2=\\begin{bmatrix} 0 & -\\theta & t_x\\\\ \\theta & 0 & t_y\\\\ 0 & 0 & 0 \\end{bmatrix}")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05764em"}}),"S"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05764em"}}),"E"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"2"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"3.6010299999999997em",verticalAlign:"-1.55002em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"minner"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizing mult"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"2.0510099999999998em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.2500000000000004em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3.1550000000000002em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizinginner delim-size4"}),Object(m.b)("span",{parentName:"span"},"\u23a3"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.8099900000000004em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3.1550000000000002em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizinginner delim-size4"}),Object(m.b)("span",{parentName:"span"},"\u23a2"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-4.05101em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3.1550000000000002em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizinginner delim-size4"}),Object(m.b)("span",{parentName:"span"},"\u23a1")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.55002em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mtable"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"col-align-c"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"2.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-4.21em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.0099999999999993em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02778em"}}),"\u03b8"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-1.8099999999999994em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.5500000000000007em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"col-align-c"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"2.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-4.21em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02778em"}}),"\u03b8"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.0099999999999993em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-1.8099999999999994em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.5500000000000007em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"col-align-c"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"2.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-4.21em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.151392em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(m.b)("span",{parentName:"span"})))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.0099999999999993em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15139200000000003em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}}),"y")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.286108em"}}),Object(m.b)("span",{parentName:"span"})))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-1.8099999999999994em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.5500000000000007em"}}),Object(m.b)("span",{parentName:"span"}))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizing mult"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"2.0510099999999998em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.2500000000000004em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3.1550000000000002em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizinginner delim-size4"}),Object(m.b)("span",{parentName:"span"},"\u23a6"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.8099900000000004em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3.1550000000000002em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizinginner delim-size4"}),Object(m.b)("span",{parentName:"span"},"\u23a5"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-4.05101em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3.1550000000000002em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizinginner delim-size4"}),Object(m.b)("span",{parentName:"span"},"\u23a4")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.55002em"}}),Object(m.b)("span",{parentName:"span"})))))))))))),Object(m.b)("p",null,Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"bold-italic"}),"x"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mi",{parentName:"mrow"},"y"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),","),Object(m.b)("mn",{parentName:"mrow"},"1"),Object(m.b)("msup",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"msup"},{stretchy:"false"}),"]"),Object(m.b)("mi",{parentName:"msup"},"T"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\bm{x} = [x, y, 1]^T")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.44444em",verticalAlign:"0em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord boldsymbol"}),"x"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.0913309999999998em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.03588em"}}),"y"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),","),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"1"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8413309999999999em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.063em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}}),"T"))))))))))))),Object(m.b)("p",null,"And ",Object(m.b)("span",Object(s.a)({parentName:"p"},{className:"math math-inline"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mi",{parentName:"mrow"},"W"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"p"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mi",{parentName:"mrow"},"S"),Object(m.b)("mi",{parentName:"mrow"},"E"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"("),Object(m.b)("mn",{parentName:"mrow"},"2"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),")"),Object(m.b)("mo",{parentName:"mrow"},"\u22c5"),Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"bold-italic"}),"x"),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"["),Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"\u03b8"),Object(m.b)("mi",{parentName:"mrow"},"y"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"x")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mi",{parentName:"mrow"},"\u03b8"),Object(m.b)("mi",{parentName:"mrow"},"x"),Object(m.b)("mo",{parentName:"mrow"},"+"),Object(m.b)("msub",{parentName:"mrow"},Object(m.b)("mi",{parentName:"msub"},"t"),Object(m.b)("mi",{parentName:"msub"},"y")),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{separator:"true"}),";"),Object(m.b)("mn",{parentName:"mrow"},"0"),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{stretchy:"false"}),"]")),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"W(x;p) = SE(2) \\cdot \\bm{x} = [- \\theta y + t_x; \\theta x + t_y; 0]")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05764em"}}),"S"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.05764em"}}),"E"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"("),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"2"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),")"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"\u22c5"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.44444em",verticalAlign:"0em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord boldsymbol"}),"x"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen"}),"["),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02778em"}}),"\u03b8"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.03588em"}}),"y"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.151392em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.02778em"}}),"\u03b8"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mbin"}),"+"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2222222222222222em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"1.036108em",verticalAlign:"-0.286108em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"t"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"msupsub"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.15139200000000003em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"2.7em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"sizing reset-size6 size3 mtight"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}}),"y")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.286108em"}}),Object(m.b)("span",{parentName:"span"})))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mpunct"}),";"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.16666666666666666em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose"}),"]"))))),". Thus we have:"),Object(m.b)("div",{className:"math math-display"},Object(m.b)("span",Object(s.a)({parentName:"div"},{className:"katex-display"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-mathml"}),Object(m.b)("math",Object(s.a)({parentName:"span"},{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"}),Object(m.b)("semantics",{parentName:"math"},Object(m.b)("mrow",{parentName:"semantics"},Object(m.b)("mfrac",{parentName:"mrow"},Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"W")),Object(m.b)("mrow",{parentName:"mfrac"},Object(m.b)("mi",Object(s.a)({parentName:"mrow"},{mathvariant:"normal"}),"\u2202"),Object(m.b)("mi",{parentName:"mrow"},"p"))),Object(m.b)("mo",{parentName:"mrow"},"="),Object(m.b)("mrow",{parentName:"mrow"},Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{fence:"true"}),"["),Object(m.b)("mtable",Object(s.a)({parentName:"mrow"},{rowspacing:"0.15999999999999992em",columnspacing:"1em"}),Object(m.b)("mtr",{parentName:"mtable"},Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"1"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"0"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mrow",{parentName:"mstyle"},Object(m.b)("mo",{parentName:"mrow"},"\u2212"),Object(m.b)("mi",{parentName:"mrow"},"y"))))),Object(m.b)("mtr",{parentName:"mtable"},Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"0"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mn",{parentName:"mstyle"},"1"))),Object(m.b)("mtd",{parentName:"mtr"},Object(m.b)("mstyle",Object(s.a)({parentName:"mtd"},{scriptlevel:"0",displaystyle:"false"}),Object(m.b)("mi",{parentName:"mstyle"},"x"))))),Object(m.b)("mo",Object(s.a)({parentName:"mrow"},{fence:"true"}),"]"))),Object(m.b)("annotation",Object(s.a)({parentName:"semantics"},{encoding:"application/x-tex"}),"\\frac{\\partial W}{\\partial p}=\\begin{bmatrix} 1 & 0 & -y\\\\ 0 & 1 & x \\end{bmatrix}")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"katex-html","aria-hidden":"true"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"2.25188em",verticalAlign:"-0.8804400000000001em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen nulldelimiter"})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mfrac"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.37144em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.314em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"p"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.23em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"frac-line",style:{borderBottomWidth:"0.04em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.677em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord",style:{marginRight:"0.05556em"}}),"\u2202"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.13889em"}}),"W")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.8804400000000001em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose nulldelimiter"}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mrel"}),"="),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mspace",style:{marginRight:"0.2777777777777778em"}}))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"base"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"strut",style:{height:"2.40003em",verticalAlign:"-0.95003em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"minner"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mopen delimcenter",style:{top:"0em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizing size3"}),"[")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mtable"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"col-align-c"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.45em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.61em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"1"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.4099999999999997em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.9500000000000004em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"col-align-c"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.45em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.61em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"0"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.4099999999999997em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"1")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.9500000000000004em"}}),Object(m.b)("span",{parentName:"span"}))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"arraycolsep",style:{width:"0.5em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"col-align-c"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-t vlist-t2"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"1.45em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-3.61em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),"\u2212"),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal",style:{marginRight:"0.03588em"}}),"y"))),Object(m.b)("span",Object(s.a)({parentName:"span"},{style:{top:"-2.4099999999999997em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"pstrut",style:{height:"3em"}})),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mord mathnormal"}),"x")))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-s"}),"\u200b")),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist-r"}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"vlist",style:{height:"0.9500000000000004em"}}),Object(m.b)("span",{parentName:"span"}))))))),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"mclose delimcenter",style:{top:"0em"}}),Object(m.b)("span",Object(s.a)({parentName:"span"},{className:"delimsizing size3"}),"]")))))))),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),"\n\nstruct OpticalFlowPatch {\n  // build a patch around the center point pos in the given image\n  OpticalFlowPatch(const Image<const uint16_t> &img, const Vector2 &pos) {\n    setFromImage(img, pos); \n  }\n  void setFromImage(const Image<const uint16_t> &img, const Vector2 &pos) {\n    MatrixP2 grad; // matrix of patter_size * 2, stores the gradient, with respect to x (right) and y (down), for data!\n    for i in range(pattern)\n      Vector2 p = pos + pattern2.col(i);\n      if (img.InBounds(p, 2)) {\n        // see below images of the interGrad to know what it means\n        // valGrad[0] is the interplated pixel value, valGrad[1] is grad in x direction, valGrad[2] is grad in y dirextion\n        Vector3 valGrad = img.interpGrad<Scalar>(p);\n        obtain intensity value for each point in the patch: data[i] = valGrad[0];\n        update sum for with each intensity value: sum += valGrad[0];\n        calculate each row of grad and update grad sum from the last two data of valGrad\n        num_valid_points++;\n      } else {\n        data[i] = -1;\n      }\n    mean = sum / num_valid_points;\n    Scalar mean_inv = num_valid_points / sum;\n    // Yu: SE2: http://www.ethaneade.org/gradlie.pdf, see Equ. 119\n    // http://www.ncorr.com/download/publications/bakerunify.pdf\n    Eigen::Matrix<Scalar, 2, 3> Jw_se2; // hm: each column, x, y, theta. x points right, y points down\n    Jw_se2.template topLeftCorner<2, 2>().setIdentity();\n\n    MatrixP3 J_se2; // hm: pattern_size * 3, account for 2 translation and 1 rotation. reflects how each residual component changes, with regards to SE(2)\n\n    for (int i = 0; i < PATTERN_SIZE; i++) {\n      if (data[i] >= 0) {\n        const Scalar data_i = data[i];\n        const Vector2 grad_i = grad.row(i);\n        // hm: grad_i is the current pixel's gradient\n        // hm: effectively = grad_i / averaged_intensity -  averaged_grad * data_i / averaged_intensity\n        ///Yu: \n        grad.row(i) =\n            num_valid_points * (grad_i * sum - grad_sum * data_i) / (sum * sum);\n\n        data[i] *= mean_inv; // hm: divide by mean for all pixels\n      } else {\n        grad.row(i).setZero();\n      }\n\n      // Fill jacobians with respect to SE2 warp\n      // hm: the image is store in a row-major fashion, starting from the top-left corner. x correspon\n      /// Yu: SE2 param [x,y,theta]\n      Jw_se2(0, 2) = -pattern2(1, i); // hm: change of x, respect to rotation. Apply small angle differentiation, give dx/dtheta = -y\n      Jw_se2(1, 2) = pattern2(0, i); // hm: change of y, respect to rotation. Similarly dy/dtheta = x\n      // hm: J_se2 = di/dw * dw/dse2 = grad * Jw_se2\n      J_se2.row(i) = grad.row(i) * Jw_se2; // hm: jecobian of each pixel = \n    }\n\n    // hm: formulation refer to Usenko(2019), Preliminaries, with W = identity\n    Matrix3 H_se2 = J_se2.transpose() * J_se2;\n    Matrix3 H_se2_inv;\n    H_se2_inv.setIdentity();\n    H_se2.ldlt().solveInPlace(H_se2_inv); // hm: this is to solve the inverse. This is because H_se2_inv is set to identity. so the result x IS THE INVERSE\n\n    H_se2_inv_J_se2_T = H_se2_inv * J_se2.transpose();\n  }\n\n  inline bool residual(const Image<const uint16_t> &img,\n                       const Matrix2P &transformed_pattern,\n                       VectorP &residual) const {\n\n    Scalar sum = 0; // hm: stores the sum of image pixels, using valid points in the transformed pattern\n    Vector2 grad_sum(0, 0);\n    int num_valid_points = 0;\n\n    for (int i = 0; i < PATTERN_SIZE; i++) {\n      if (img.InBounds(transformed_pattern.col(i), 2)) {\n        residual[i] = img.interp<Scalar>(transformed_pattern.col(i)); // Yu: bilinear interplatation\n        sum += residual[i];\n        num_valid_points++;\n      } else {\n        residual[i] = -1;\n      }\n    }\n\n    int num_residuals = 0;\n\n    for (int i = 0; i < PATTERN_SIZE; i++) {\n      if (residual[i] >= 0 && data[i] >= 0) {\n        const Scalar val = residual[i];\n        // hm: sum / num_valid_points gives the averaged intensity of the patch\n        residual[i] = num_valid_points * val / sum - data[i];\n        num_residuals++;\n\n      } else {\n        residual[i] = 0;\n      }\n    }\n\n    // hm: num_residuals indicates the number of points that both valid in data and residuals\n    return num_residuals > PATTERN_SIZE / 2;\n  }\n\n  Vector2 pos; //patch center\n  VectorP data;  // template patch, negative if the point is not valid\n  Matrix3P H_se2_inv_J_se2_T; //inv(JT*J)*JT, typical calculation for gaussian newton optimization\n  Scalar mean; //  mean of data, before deviding by mean\n};\n")),Object(m.b)("p",null,Object(m.b)("img",{alt:"interpolation pixel",src:t(176).default}),"\n",Object(m.b)("img",{alt:"interpolation grad",src:t(177).default})),Object(m.b)("h4",{id:"frame-processing"},"frame processing"),Object(m.b)("h1",{id:"draft-section"},"Draft section"),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{className:"language-cpp"}),'        "config.optical_flow_detection_grid_size": 50,  // Patch size \n        "config.optical_flow_max_recovered_dist2": 1.0,  //max distance set for optical flow\n        "config.optical_flow_pattern": 51,\n        "config.optical_flow_max_iterations": 5,    \n        "config.optical_flow_epipolar_error": 0.5,       // remove flow that valates the epipolar constrain\n        "config.optical_flow_levels": 5,\n        "config.optical_flow_skip_frames": 1,            // 1 means do not skip\n        "config.feature_match_show": true,               // show detection and tracking result between left and right \n        "config.vio_max_states": 3,\n        "config.vio_max_kfs": 5,\n        "config.vio_min_frames_after_kf": 5,\n        "config.vio_new_kf_keypoints_thresh": 0.7,\n        "config.vio_debug": true,\n        "config.vio_obs_std_dev": 0.5,                    // dev for 3d vision reprojection error\n        "config.vio_obs_huber_thresh": 1.0,               // Another threshod for vision weights\n        "config.vio_min_triangulation_dist": 0.05,        // the translation has to be bigger than square of this value to do trangulation\n        "config.vio_outlier_threshold": 1.0,              // outlier if the norm of the residual is larger than this value\n        "config.vio_filter_iteration": 4,                 // filter outliers in this iter during optimization\n        "config.vio_max_iterations": 7,                   // vio optimization iteration number\n        "config.vio_enforce_realtime": false,\n        "config.vio_use_lm": false,                       // use gaussian newton otherwise\n        "config.vio_lm_lambda_min": 1e-32,\n        "config.vio_lm_lambda_max": 1e2,\n        "config.vio_init_pose_weight": 1e8,                // margH postion and yaw weight\n')),Object(m.b)("p",null,"pitch; ///Yu: Bytes per unit data. e.g: one row contain pitch * w bytes."),Object(m.b)("h1",{id:"update-repo"},"Update repo"),Object(m.b)("pre",null,Object(m.b)("code",Object(s.a)({parentName:"pre"},{}),"git submodule sync // fix mismatch remote repo issue\ngit submodule update \n")))}l.isMDXComponent=!0},140:function(a,e,t){"use strict";t.d(e,"a",(function(){return O})),t.d(e,"b",(function(){return N}));var s=t(0),n=t.n(s);function m(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function c(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,s)}return t}function b(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){m(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function p(a,e){if(null==a)return{};var t,s,n=function(a,e){if(null==a)return{};var t,s,n={},m=Object.keys(a);for(s=0;s<m.length;s++)t=m[s],e.indexOf(t)>=0||(n[t]=a[t]);return n}(a,e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);for(s=0;s<m.length;s++)t=m[s],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}var r=n.a.createContext({}),l=function(a){var e=n.a.useContext(r),t=e;return a&&(t="function"==typeof a?a(e):b(b({},e),a)),t},O=function(a){var e=l(a.components);return n.a.createElement(r.Provider,{value:e},a.children)},j={inlineCode:"code",wrapper:function(a){var e=a.children;return n.a.createElement(n.a.Fragment,{},e)}},i=n.a.forwardRef((function(a,e){var t=a.components,s=a.mdxType,m=a.originalType,c=a.parentName,r=p(a,["components","mdxType","originalType","parentName"]),O=l(t),i=s,N=O["".concat(c,".").concat(i)]||O[i]||j[i]||m;return t?n.a.createElement(N,b(b({ref:e},r),{},{components:t})):n.a.createElement(N,b({ref:e},r))}));function N(a,e){var t=arguments,s=e&&e.mdxType;if("string"==typeof a||s){var m=t.length,c=new Array(m);c[0]=i;var b={};for(var p in e)hasOwnProperty.call(e,p)&&(b[p]=e[p]);b.originalType=a,b.mdxType="string"==typeof a?a:s,c[1]=b;for(var r=2;r<m;r++)c[r]=t[r];return n.a.createElement.apply(null,c)}return n.a.createElement.apply(null,t)}i.displayName="MDXCreateElement"},174:function(a,e,t){"use strict";t.r(e),e.default=t.p+"assets/images/pyramid-b22d97085573eb9245f7815632c01a08.png"},175:function(a,e,t){"use strict";t.r(e),e.default=t.p+"assets/images/the_inverse_compositional_algo-5423aafdb18358b94931aad20f73e7bc.png"},176:function(a,e,t){"use strict";t.r(e),e.default=t.p+"assets/images/func_interp-4797eb76f04b329d9536fec09c2347c3.png"},177:function(a,e,t){"use strict";t.r(e),e.default=t.p+"assets/images/func_interpgrid-ef14a49d76837ff6f2b6c88a761e40fc.png"}}]);